(function(e){function t(t){for(var n,a,i=t[0],u=t[1],c=t[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&p.push(s[a][0]),s[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var u=r[i];0!==s[u]&&(n=!1)}n&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},s={app:0},o=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"34d4":function(e,t,r){},"371f":function(e,t,r){},4459:function(e,t,r){"use strict";var n=r("34d4"),s=r.n(n);s.a},"45b9":function(e,t,r){"use strict";var n=r("9e33"),s=r.n(n);s.a},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=o,e.exports=s,s.id="4678"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("chat-app"),r("router-link",{attrs:{to:"/"}},[e._v("Home")]),r("router-link",{attrs:{to:"/login"}},[e._v("Login/SignUp")])],1),r("router-view")],1)},o=[],a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"chatApp"},[r("div",{on:{click:e.openPopUp}},[e._v("Lets chat")]),e.isClicked?r("pop-up",{on:{closePopUp:e.closePopUp}},[r("header",[r("button",{staticClass:"chat-app-btn",on:{click:e.closePopUp}},[e._v(" X ")]),e._v("chat now!")]),e.msgs?r("ul",{ref:"chat"},e._l(e.msgs,(function(t){return r("li",[e._v(e._s(t))])})),0):e._e(),r("div",[r("main",{staticClass:"input-papa"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.userMsg,expression:"userMsg"}],attrs:{type:"text",placeholder:"Lets chat"},domProps:{value:e.userMsg},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.startChat(t)},input:function(t){t.target.composing||(e.userMsg=t.target.value)}}})]),r("footer",[e._v("esc to esc")])])]):e._e()],1)},i=[],u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pop-up",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.closePopUp(t)}}},[e._t("default")],2)},c=[],l={name:"popUp",data:function(){return{isClicked:!0}},methods:{closePopUp:function(){this.$emit("closePopUp")}}},d=l,p=r("2877"),m=Object(p["a"])(d,u,c,!1,null,"74726aee",null),f=m.exports,g={name:"chatApp",components:{popUp:f},data:function(){return{isClicked:!1,userMsg:"",msgs:[]}},methods:{openPopUp:function(){this.isClicked=!0},closePopUp:function(){this.isClicked=!1,this.msgs=[]},startChat:function(){var e=this;this.msgs.push("You: "+this.userMsg),setTimeout((function(){return e.msgs.push("Support : Sure thing honey")}),1500),this.userMsg="",this.$refs.chat.lastElementChild&&setTimeout((function(){return e.$refs.chat.lastElementChild.scrollIntoView()}),1600)}}},v=g,y=(r("723b"),Object(p["a"])(v,a,i,!1,null,"da0027a6",null)),h=y.exports,b={name:"projApp",components:{chatApp:h}},j=b,_=Object(p["a"])(j,s,o,!1,null,null,null),w=_.exports,k=r("8c4f"),x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[e.loggedinAdmin?r("router-link",{attrs:{to:"/edit/"}},[e._v("Add")]):e._e(),r("proj-filter",{on:{"set-filter":e.setFilter}}),r("projs-list",{attrs:{projs:e.projsForDisplay},on:{removeProj:e.removeProj}})],1)},T=[],O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"projs-list"},[r("ul",e._l(e.projs,(function(t){return r("li",{key:t._id},[r("proj-preview",{attrs:{proj:t},on:{removeProj:e.removeProj}})],1)})),0)])},C=[],U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"proj-preview"},[r("h5",[e._v("Name: "+e._s(e.proj.name)+" ")]),r("h5",[e._v("Price: "+e._s(e._f("localeNum")(e.proj.price))+" ")]),r("h5",[e._v("Type: "+e._s(e.proj.type)+" ")]),r("div",{staticClass:"footer"},[r("router-link",{attrs:{to:"/details/"+e.proj._id}},[e._v("More details")]),e._v(" | "),e.loggedinAdmin?r("router-link",{attrs:{to:"/edit/"+e.proj._id}},[e._v("Edit")]):e._e(),e._v(" | "),e.loggedinAdmin?r("button",{staticClass:"proj-preview-btn",on:{click:function(t){return e.removeProj(e.proj._id)}}},[e._v("Delete")]):e._e()],1)])},$=[],P={name:"projPreview",props:{proj:Object},data:function(){return{loggedinAdmin:!1}},methods:{removeProj:function(e){this.$emit("removeProj",e)}},created:function(){this.$store.getters.loggedinUser&&("true"===this.$store.getters.loggedinUser.isAdmin?this.loggedinAdmin=!0:this.loggedinAdmin=!1)}},E=P,S=Object(p["a"])(E,U,$,!1,null,"e67e7ec0",null),R=S.exports,A={name:"projsList",props:{projs:Array},components:{projPreview:R},methods:{removeProj:function(e){this.$emit("removeProj",e)}}},N=A,B=Object(p["a"])(N,O,C,!1,null,null,null),z=B.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"proj-filter"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.name,expression:"filterBy.name"}],attrs:{type:"text",placeholder:"Proj name"},domProps:{value:e.filterBy.name},on:{input:[function(t){t.target.composing||e.$set(e.filterBy,"name",t.target.value)},e.emitFilter]}}),r("toggle-btn",{nativeOn:{click:function(t){return e.emitFilter(t)}},model:{value:e.filterBy.inStock,callback:function(t){e.$set(e.filterBy,"inStock",t)},expression:"filterBy.inStock"}}),r("select",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.category,expression:"filterBy.category"}],on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.filterBy,"category",t.target.multiple?r:r[0])},e.emitFilter]}},[r("option",{attrs:{value:"all"}},[e._v("All")]),r("option",{attrs:{value:"Adult"}},[e._v("Adult")]),r("option",{attrs:{value:"Educational"}},[e._v("Educational")]),r("option",{attrs:{value:"Funny"}},[e._v("Funny")])]),r("form",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.sort,expression:"filterBy.sort"}],attrs:{type:"radio",name:"name",value:"name"},domProps:{checked:e._q(e.filterBy.sort,"name")},on:{change:function(t){return e.$set(e.filterBy,"sort","name")}}}),e._v(" Name "),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.sort,expression:"filterBy.sort"}],attrs:{type:"radio",name:"price",value:"price"},domProps:{checked:e._q(e.filterBy.sort,"price")},on:{change:function(t){return e.$set(e.filterBy,"sort","price")}}}),e._v(" Price ")])],1)},F=[],D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticClass:"switch"},[r("input",{attrs:{type:"checkbox"},domProps:{checked:e.isOn},on:{click:e.toggle}}),r("div")])},L=[],M={name:"toggle-btn",props:{value:Boolean},data:function(){return{isOn:this.value}},methods:{toggle:function(){this.isOn=!this.isOn,this.$emit("input",this.isOn)}}},J=M,q=(r("7e4a"),Object(p["a"])(J,D,L,!1,null,"3f770a6e",null)),G=q.exports,H={name:"projPreview",data:function(){return{filterBy:{name:"",category:"all",sort:null}}},components:{toggleBtn:G},methods:{emitFilter:function(){this.$emit("set-filter",JSON.parse(JSON.stringify(this.filterBy)))}},watch:{"filterBy.sort":function(){this.emitFilter()}}},V=H,W=Object(p["a"])(V,I,F,!1,null,"d28b40b4",null),X=W.exports,Y={name:"projApp",components:{projsList:z,projFilter:X,loggedinAdmin:!1},computed:{projsForDisplay:function(){return this.$store.getters.projsForDisplay}},methods:{setFilter:function(e){this.$store.commit({type:"setFilter",filterBy:e}),this.$store.dispatch({type:"loadProjs"})},removeProj:function(e){this.$store.dispatch({type:"removeProj",id:e})}},created:function(){this.$store.dispatch({type:"loadProjs"}),this.$store.getters.loggedinUser&&("true"===this.$store.getters.loggedinUser.isAdmin?this.loggedinAdmin=!0:this.loggedinAdmin=!1)}},K=Y,Q=Object(p["a"])(K,x,T,!1,null,null,null),Z=Q.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("h1",[e._v("hi")]),r("gender-picker",{model:{value:e.signupCred.gender,callback:function(t){e.$set(e.signupCred,"gender",t)},expression:"signupCred.gender"}}),e._v(" "+e._s(e.signupCred.gender)+" "),r("h2",[e._v(e._s(e.msg))]),e.loggedinUser?r("div",[r("h3",[e._v(" Loggedin User: "+e._s(e.loggedinUser.username)+" "),r("form",{on:{submit:function(t){return t.preventDefault(),e.updateUser(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.userToEdit.username,expression:"userToEdit.username"}],attrs:{type:"text"},domProps:{value:e.userToEdit.username},on:{input:function(t){t.target.composing||e.$set(e.userToEdit,"username",t.target.value)}}})]),r("button",{on:{click:e.doLogout}},[e._v("Logout")])])]):r("div",[r("form",{on:{submit:function(t){return t.preventDefault(),e.doLogin(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.loginCred.email,expression:"loginCred.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.loginCred.email},on:{input:function(t){t.target.composing||e.$set(e.loginCred,"email",t.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.loginCred.password,expression:"loginCred.password"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:e.loginCred.password},on:{input:function(t){t.target.composing||e.$set(e.loginCred,"password",t.target.value)}}}),r("br"),r("button",[e._v("Login")])]),r("form",{on:{submit:function(t){return t.preventDefault(),e.doSignup(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.email,expression:"signupCred.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.signupCred.email},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"email",t.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.password,expression:"signupCred.password"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:e.signupCred.password},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"password",t.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.username,expression:"signupCred.username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.signupCred.username},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"username",t.target.value)}}}),r("br"),r("button",[e._v("Signup")])])]),r("hr"),r("button",{on:{click:e.getAllUsers}},[e._v("Get All Users")]),r("ul",e._l(e.users,(function(t){return r("li",{key:t._id},[r("pre",[e._v(e._s(t))]),r("button",{on:{click:function(r){return e.removeUser(t._id)}}},[e._v("x")])])})),0)],1)},te=[],re=r("5530"),ne=(r("96cf"),r("1da1")),se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"gender"},[r("div",{on:{click:function(t){return e.picked("man")}}},[e._v("Man")]),r("div",{on:{click:function(t){return e.picked("woman")}}},[e._v("Woman")]),r("div",{on:{click:function(t){return e.picked("unknown")}}},[e._v("None of your buisness")])])},oe=[],ae={name:"genderPicker",props:["value"],data:function(){return{gender:this.value}},methods:{picked:function(e){this.gender=e,this.$emit("input",this.gender)}}},ie=ae,ue=Object(p["a"])(ie,se,oe,!1,null,"068d1c75",null),ce=ue.exports,le={name:"custom",data:function(){return{loginCred:{},signupCred:{},msg:"",userToEdit:{}}},computed:{users:function(){return this.$store.getters.users},loggedinUser:function(){return this.$store.getters.loggedinUser}},created:function(){console.log("this.loggedinUser",this.loggedinUser)},methods:{doLogin:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.loginCred,r.email&&r.password){t.next=3;break}return t.abrupt("return",e.msg="Please enter user/password");case 3:return t.next=5,e.$store.dispatch({type:"login",userCred:r});case 5:e.loginCred={};case 6:case"end":return t.stop()}}),t)})))()},doLogout:function(){this.$store.dispatch({type:"logout"})},doSignup:function(){var e=this.signupCred;if(!e.email||!e.password||!e.username)return this.msg="Please fill up the form";this.$store.dispatch({type:"signup",userCred:e})},getAllUsers:function(){this.$store.dispatch({type:"loadUsers"})},removeUser:function(e){this.$store.dispatch({type:"removeUser",userId:e})},updateUser:function(){this.$store.dispatch({type:"updateUser",user:this.userToEdit})}},watch:{loggedinUser:function(){this.userToEdit=Object(re["a"])({},this.loggedinUser)}},components:{genderPicker:ce}},de=le,pe=Object(p["a"])(de,ee,te,!1,null,null,null),me=pe.exports,fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.proj?r("div",{staticClass:"proj-details"},[r("h1",[e._v(" "+e._s(e.proj.name)+" Details")]),r("ul",[r("li",[e._v("Id: "+e._s(e.proj._id))]),r("li",[e._v("Price: "+e._s(e.proj.price))]),r("li",[e._v("Category: "+e._s(e.proj.type))]),r("li",[e._v("Created at: "+e._s(e._f("date")(e.proj.createdAt)))]),r("li",[e._v("In stock: "+e._s(e.proj.inStock))])]),e.proj.imgUrl?r("img",{staticClass:"details-img",attrs:{src:e.proj.imgUrl}}):e._e()]):e._e()},ge=[],ve={name:"projDetails",data:function(){return{proj:null}},created:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.$route.params._id,!r){t.next=6;break}return t.next=4,e.$store.dispatch({type:"loadProj",projId:r});case 4:n=t.sent,e.proj=JSON.parse(JSON.stringify(n));case 6:case"end":return t.stop()}}),t)})))()}},ye=ve,he=(r("45b9"),Object(p["a"])(ye,fe,ge,!1,null,"4cc5c074",null)),be=he.exports,je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"proj-edit pages-height"},[r("h1",[e._v(e._s(e.headline))]),r("form",{on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.editedProj.name,expression:"editedProj.name"}],attrs:{type:"text",placeholder:"Proj name"},domProps:{value:e.editedProj.name},on:{input:function(t){t.target.composing||e.$set(e.editedProj,"name",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editedProj.price,expression:"editedProj.price",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"Proj price"},domProps:{value:e.editedProj.price},on:{input:function(t){t.target.composing||e.$set(e.editedProj,"price",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),r("select",{directives:[{name:"model",rawName:"v-model",value:e.editedProj.type,expression:"editedProj.type"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.editedProj,"type",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"Adult"}},[e._v("Adult")]),r("option",{attrs:{value:"Educational"}},[e._v("Educational")]),r("option",{attrs:{value:"Funny"}},[e._v("Funny")])]),r("br"),r("label",[e._v(" Add img! "),r("input",{attrs:{type:"file"},on:{change:e.uploadImg}})]),r("br"),r("button",[e._v("Save")])]),e.editedProj.imgUrl?r("img",{staticClass:"details-img",attrs:{src:e.editedProj.imgUrl}}):e._e()])},_e=[],we={name:"projEdit",data:function(){return{editedProj:{name:"",price:0,type:null}}},created:function(){var e=this,t=this.$route.params.id;t&&this.$store.dispatch({type:"loadProj",projId:t}).then((function(t){return e.editedProj=JSON.parse(JSON.stringify(t))}))},methods:{save:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"saveProj",proj:JSON.parse(JSON.stringify(e.editedProj))});case 2:t.sent,e.$router.push("/");case 4:case"end":return t.stop()}}),t)})))()},uploadImg:function(e){var t=this;return Object(ne["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e.target.files[0]),r.next=3,t.$store.dispatch({type:"addImg",imgEv:e});case 3:n=r.sent,t.editedProj.imgUrl=n.url;case 5:case"end":return r.stop()}}),r)})))()}},computed:{headline:function(){return this.editedProj._id?"Edit":"Add"}}},ke=we,xe=(r("4459"),Object(p["a"])(ke,je,_e,!1,null,"21a7243a",null)),Te=xe.exports;n["a"].use(k["a"]);var Oe=[{path:"/",name:"projsApp",component:Z},{path:"/login",name:"login",component:me},{path:"/details/:_id?",name:"details",component:be},{path:"/edit/:id?",name:"edit",component:Te}],Ce=new k["a"]({routes:Oe}),Ue=Ce,$e=(r("c740"),r("a434"),r("2f62")),Pe=(r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("99af"),r("bc3a")),Ee=r.n(Pe),Se="/api/",Re=Ee.a.create({withCredentials:!0}),Ae={get:function(e,t){return Ne(e,"GET",t)},post:function(e,t){return Ne(e,"POST",t)},put:function(e,t){return Ne(e,"PUT",t)},delete:function(e,t){return Ne(e,"DELETE",t)}};function Ne(e){return Be.apply(this,arguments)}function Be(){return Be=Object(ne["a"])(regeneratorRuntime.mark((function e(t){var r,n,s,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:"get",n=o.length>2&&void 0!==o[2]?o[2]:null,e.prev=2,e.next=5,Re({url:"".concat(Se).concat(t),method:r,data:n});case 5:return s=e.sent,e.abrupt("return",s.data);case 9:e.prev=9,e.t0=e["catch"](2),401===e.t0.response.status&&Ue.push("/");case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),Be.apply(this,arguments)}var ze={query:Le,getById:Ie,remove:Fe,update:De,save:Me};function Ie(e){return Ae.get("proj/".concat(e))}function Fe(e){return Ae.delete("proj/".concat(e))}function De(e){return Ae.put("proj/".concat(e._id),e)}function Le(e){console.log(e);var t=new URLSearchParams(e);return Ae.get("proj?".concat(t))}function Me(e){return e.createdAt?e.updatedAt=Date.now():e.createdAt=Date.now(),e.inStock=!0,e._id?De(e):Ae.post("proj",e)}function Je(e){console.log("here!");var t="tamir",r="https://api.cloudinary.com/v1_1/".concat(t,"/image/upload"),n=new FormData;return n.append("file",e.target.files[0]),n.append("upload_preset","u1inrfbp"),fetch(r,{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){return console.log(e),e})).catch((function(e){return console.error(error)}))}var qe={uploadImg:Je},Ge=(r("4de4"),{login:Xe,logout:Ze,signup:Ke,getUsers:tt,getById:He,remove:Ve,update:We});function He(e){return Ae.get("user/".concat(e))}function Ve(e){return Ae.delete("user/".concat(e))}function We(e){return Ae.put("user/".concat(e._id),e)}function Xe(e){return Ye.apply(this,arguments)}function Ye(){return Ye=Object(ne["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ae.post("auth/login",t);case 2:return r=e.sent,e.abrupt("return",rt(r));case 4:case"end":return e.stop()}}),e)}))),Ye.apply(this,arguments)}function Ke(e){return Qe.apply(this,arguments)}function Qe(){return Qe=Object(ne["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ae.post("auth/signup",t);case 2:return r=e.sent,e.abrupt("return",rt(r));case 4:case"end":return e.stop()}}),e)}))),Qe.apply(this,arguments)}function Ze(){return et.apply(this,arguments)}function et(){return et=Object(ne["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ae.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)}))),et.apply(this,arguments)}function tt(){return Ae.get("user")}function rt(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var nt=null;sessionStorage.user&&(nt=JSON.parse(sessionStorage.user));var st={state:{loggedinUser:nt,users:[]},getters:{users:function(e){return e.users},loggedinUser:function(e){return e.loggedinUser}},mutations:{setUser:function(e,t){var r=t.user;e.loggedinUser=r},setUsers:function(e,t){var r=t.users;e.users=r},removeUser:function(e,t){var r=t.userId;e.users=e.users.filter((function(e){return e._id!==r}))}},actions:{login:function(e,t){var r=t.userCred;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ge.login(r);case 2:return n=t.sent,e.commit({type:"setUser",user:n}),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()},signup:function(e,t){var r=t.userCred;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ge.signup(r);case 2:return n=t.sent,e.commit({type:"setUser",user:n}),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()},logout:function(e){return Object(ne["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ge.logout();case 2:e.commit({type:"setUsers",users:[]}),e.commit({type:"setUser",user:null});case 4:case"end":return t.stop()}}),t)})))()},loadUsers:function(e){return Object(ne["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ge.getUsers();case 2:return r=t.sent,e.commit({type:"setUsers",users:r}),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()},removeUser:function(e,t){var r=t.userId;return Object(ne["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ge.remove(r);case 2:e.commit({type:"removeUser",userId:r});case 3:case"end":return t.stop()}}),t)})))()},updateUser:function(e,t){var r=t.user;return Object(ne["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ge.update(r);case 2:return r=t.sent,e.commit({type:"setUser",user:r}),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()}}};n["a"].use($e["a"]);var ot=new $e["a"].Store({state:{projs:[],currProj:"",filterBy:{name:"",category:"all",sort:null}},mutations:{setProjs:function(e,t){var r=t.projs;e.projs=r},currProj:function(e,t){var r=t.proj;e.currProj=r},setFilter:function(e,t){var r=t.filterBy;e.filterBy=r},addProj:function(e,t){var r=t.proj;e.projs.unshift(r)},updateProj:function(e,t){var r=t.proj,n=e.projs.findIndex((function(e){return e._id===r._id}));-1!==n&&e.projs.splice(n,1,r)},removeProj:function(e,t){var r=t.id,n=e.projs.findIndex((function(e){return e._id===r}));-1!==n&&e.projs.splice(n,1)}},getters:{projsForDisplay:function(e){return e.projs}},actions:{loadProjs:function(e){return Object(ne["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("here"),t.next=3,ze.query(e.state.filterBy);case 3:return r=t.sent,e.commit({type:"setProjs",projs:r}),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))()},loadProj:function(e,t){var r=t.projId;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ze.getById(r);case 2:return n=t.sent,console.log(n),e.commit({type:"currProj",proj:n}),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))()},removeProj:function(e,t){return Object(ne["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,ze.remove(t.id);case 2:r.sent,e.commit(t);case 4:case"end":return r.stop()}}),r)})))()},saveProj:function(e,t){var r=t.proj;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=!!r._id,t.next=3,ze.save(r);case 3:return s=t.sent,console.log("Saved: ",s),e.commit({type:n?"updateProj":"addProj",proj:s}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})))()},addImg:function(e,t){var r=t.imgEv;return Object(ne["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,qe.uploadImg(r);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()}},modules:{userStore:st}}),at=r("c1df"),it=r.n(at);n["a"].filter("localeNum",(function(e){return e.toLocaleString()})),n["a"].filter("date",(function(e){return it()(new Date(e)).fromNow()}));r("fb98");n["a"].config.productionTip=!1,new n["a"]({router:Ue,store:ot,render:function(e){return e(w)}}).$mount("#app")},"723b":function(e,t,r){"use strict";var n=r("dd7d"),s=r.n(n);s.a},"7e4a":function(e,t,r){"use strict";var n=r("371f"),s=r.n(n);s.a},"9e33":function(e,t,r){},dd7d:function(e,t,r){},fb98:function(e,t,r){}});
//# sourceMappingURL=app.e894f9cf.js.map